<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>demo</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <style>
        body {
            font-family: Monospace;
            background-color: #f0f0f0;
            margin: 0px;
            overflow: hidden;
        }
    </style>
    <script src="src/three.min.js"></script>
    <script src="js/renderers/Projector.js"></script>
    <script src="js/renderers/CanvasRenderer.js"></script>
    <script src="js/controls/TransformControls.js"></script>
    <script src="js/modules/builder.js"></script>
    <script src="js/modules/operator.js"></script>
    <script src="js/modules/functions.js"></script>
</head>
<body>
<script>
    var builder = new Builder();
    var operator = new Operator();
    builder.initialize();
    builder.initBackground();
    document.addEventListener( 'mousedown', operator.onDocumentMouseDown, false );
    document.addEventListener( 'mousemove', operator.onDocumentMouseMove, false );
    document.addEventListener( 'mouseup', operator.onDocumentMouseUp, false );
    document.addEventListener( 'mousewheel', operator.onDocumentMouseWheel, false );
//
//    var texture_placeholder,
//            isUserInteracting = false,
//            onMouseDownMouseX = 0, onMouseDownMouseY = 0,
//            lon = 90, onMouseDownLon = 0,
//            lat = 15, onMouseDownLat = 0,
//            phi = 0, theta = 0;
//    function onDocumentMouseDown( event ) {
//        event.preventDefault();
//        isUserInteracting = true;
//        onPointerDownPointerX = event.clientX;
//        onPointerDownPointerY = event.clientY;
//        onPointerDownLon = lon;
//        onPointerDownLat = lat;
//    }
//    function onDocumentMouseMove( event ) {
//        if ( isUserInteracting === true ) {
//            lon = ( onPointerDownPointerX - event.clientX ) * 0.1 + onPointerDownLon;
//            lat = ( event.clientY - onPointerDownPointerY ) * 0.1 + onPointerDownLat;
//        }
//    }
//    function onDocumentMouseUp( event ) {
//        isUserInteracting = false;
//        //if ( INTERSECTED ) INTERSECTED.material.opacity = 1;
//        //INTERSECTED = null;
//    }
//    function onDocumentMouseWheel( event ) {
//        builder.camera.fov -= event.wheelDeltaY * 0.05;
//        builder.camera.updateProjectionMatrix();
//    }
//
//    function animate() {
//        requestAnimationFrame( animate );
//        render();
//    }
//    function render() {
//        if ( isUserInteracting === false ) {
//            lon += 0.1;
//        }
//        lat = Math.max( - 85, Math.min( 85, lat ) );
//        //console.log(lat);
//        phi = THREE.Math.degToRad( 90 - lat );
//        theta = THREE.Math.degToRad( lon );
//        builder.camera.position.x = -500 * Math.sin( phi ) * Math.cos( theta );
//        builder.camera.position.y = 500 * Math.cos( phi );
//        builder.camera.position.z = 500 * Math.sin( phi ) * Math.sin( theta );
//
//        builder.camera.lookAt( builder.scene.position );
//        builder.renderer.render( builder.scene, builder.camera );
//    }

    animate();
</script>

</body>
</html>